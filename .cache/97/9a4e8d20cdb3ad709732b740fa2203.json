{"id":"d6sW","dependencies":[{"name":"C:\\Users\\HP\\Documents\\GitHub\\goit-js-hw-13-image\\package.json","includedInParent":true,"mtime":1635339586185},{"name":"C:\\Users\\HP\\Documents\\GitHub\\goit-js-hw-13-image\\.browserslistrc","includedInParent":true,"mtime":1635339586112},{"name":"../template/gallery.hbs","loc":{"line":2,"column":27},"parent":"C:\\Users\\HP\\Documents\\GitHub\\goit-js-hw-13-image\\src\\js\\main.js","resolved":"C:\\Users\\HP\\Documents\\GitHub\\goit-js-hw-13-image\\src\\template\\gallery.hbs"},{"name":"./apiService.js","loc":{"line":3,"column":29},"parent":"C:\\Users\\HP\\Documents\\GitHub\\goit-js-hw-13-image\\src\\js\\main.js","resolved":"C:\\Users\\HP\\Documents\\GitHub\\goit-js-hw-13-image\\src\\js\\apiService.js"},{"name":"./refs.js","loc":{"line":4,"column":17},"parent":"C:\\Users\\HP\\Documents\\GitHub\\goit-js-hw-13-image\\src\\js\\main.js","resolved":"C:\\Users\\HP\\Documents\\GitHub\\goit-js-hw-13-image\\src\\js\\refs.js"},{"name":"./pnotify.js","loc":{"line":5,"column":56},"parent":"C:\\Users\\HP\\Documents\\GitHub\\goit-js-hw-13-image\\src\\js\\main.js","resolved":"C:\\Users\\HP\\Documents\\GitHub\\goit-js-hw-13-image\\src\\js\\pnotify.js"}],"generated":{"js":"\"use strict\";var e=o(require(\"../template/gallery.hbs\")),t=o(require(\"./apiService.js\")),r=o(require(\"./refs.js\")),n=require(\"./pnotify.js\");function o(e){return e&&e.__esModule?e:{default:e}}const{galleryEL:i,formEL:s,sentinelEL:c}=r.default,a=new t.default;function u(e){if(e.preventDefault(),a.query=e.currentTarget.elements.query.value.trim(),\"\"===a.query)return(0,n.onErrorEmptyInput)();a.resetPage(),h(),l()}function l(){a.onFetchImages().then(e=>d(e.hits)).catch(f)}function f(e){alert(e)}function d(t){if(0===t.length)return(0,n.onErrorNoSuchMatches)();i.insertAdjacentHTML(\"beforeend\",(0,e.default)(t))}function h(){i.innerHTML=\"\"}s.addEventListener(\"submit\",u,500);const v=document.querySelector(\".scroll-to-top\");window.addEventListener(\"scroll\",()=>{window.pageYOffset>500?v.classList.add(\"active\"):v.classList.remove(\"active\")}),v.addEventListener(\"click\",()=>{window.scrollTo({top:0,behavior:\"smooth\"})});const m=e=>{e.forEach(e=>{e.isIntersecting&&\"\"!==a.query&&a.onFetchImages().then(e=>{d(e.hits),a.incrementPage()})})},g=new IntersectionObserver(m,{rootMargin:\"150px\"});g.observe(c);"},"sourceMaps":{"js":{"mappings":[{"source":"js/main.js","original":{"line":83,"column":0},"generated":{"line":1,"column":0}},{"source":"js/main.js","original":{"line":2,"column":0},"generated":{"line":1,"column":13}},{"source":"js/main.js","original":{"line":2,"column":0},"generated":{"line":1,"column":17}},{"source":"js/main.js","original":{"line":2,"column":0},"generated":{"line":1,"column":19}},{"source":"js/main.js","original":{"line":2,"column":0},"generated":{"line":1,"column":21}},{"source":"js/main.js","original":{"line":2,"column":0},"generated":{"line":1,"column":29}},{"source":"js/main.js","original":{"line":3,"column":0},"generated":{"line":1,"column":57}},{"source":"js/main.js","original":{"line":3,"column":0},"generated":{"line":1,"column":59}},{"source":"js/main.js","original":{"line":3,"column":0},"generated":{"line":1,"column":61}},{"source":"js/main.js","original":{"line":3,"column":0},"generated":{"line":1,"column":69}},{"source":"js/main.js","original":{"line":4,"column":0},"generated":{"line":1,"column":89}},{"source":"js/main.js","original":{"line":4,"column":0},"generated":{"line":1,"column":91}},{"source":"js/main.js","original":{"line":4,"column":0},"generated":{"line":1,"column":93}},{"source":"js/main.js","original":{"line":4,"column":0},"generated":{"line":1,"column":101}},{"source":"js/main.js","original":{"line":5,"column":0},"generated":{"line":1,"column":115}},{"source":"js/main.js","original":{"line":5,"column":0},"generated":{"line":1,"column":117}},{"source":"js/main.js","original":{"line":5,"column":0},"generated":{"line":1,"column":125}},{"source":"js/main.js","original":{"line":83,"column":0},"generated":{"line":1,"column":141}},{"source":"js/main.js","original":{"line":83,"column":0},"generated":{"line":1,"column":150}},{"source":"js/main.js","original":{"line":83,"column":0},"generated":{"line":1,"column":152}},{"source":"js/main.js","original":{"line":83,"column":0},"generated":{"line":1,"column":155}},{"source":"js/main.js","original":{"line":83,"column":0},"generated":{"line":1,"column":162}},{"source":"js/main.js","original":{"line":83,"column":0},"generated":{"line":1,"column":165}},{"source":"js/main.js","original":{"line":83,"column":0},"generated":{"line":1,"column":167}},{"source":"js/main.js","original":{"line":83,"column":0},"generated":{"line":1,"column":178}},{"source":"js/main.js","original":{"line":83,"column":0},"generated":{"line":1,"column":180}},{"source":"js/main.js","original":{"line":83,"column":0},"generated":{"line":1,"column":181}},{"source":"js/main.js","original":{"line":83,"column":0},"generated":{"line":1,"column":189}},{"source":"js/main.js","original":{"line":7,"column":0},"generated":{"line":1,"column":192}},{"source":"js/main.js","original":{"line":7,"column":6},"generated":{"line":1,"column":198}},{"source":"js/main.js","name":"galleryEL","original":{"line":7,"column":8},"generated":{"line":1,"column":208}},{"source":"js/main.js","original":{"line":7,"column":6},"generated":{"line":1,"column":210}},{"source":"js/main.js","name":"formEL","original":{"line":7,"column":19},"generated":{"line":1,"column":217}},{"source":"js/main.js","original":{"line":7,"column":6},"generated":{"line":1,"column":219}},{"source":"js/main.js","name":"sentinelEL","original":{"line":7,"column":27},"generated":{"line":1,"column":230}},{"source":"js/main.js","name":"refs","original":{"line":7,"column":42},"generated":{"line":1,"column":233}},{"source":"js/main.js","original":{"line":7,"column":0},"generated":{"line":1,"column":235}},{"source":"js/main.js","name":"apiImageService","original":{"line":9,"column":6},"generated":{"line":1,"column":243}},{"source":"js/main.js","original":{"line":9,"column":24},"generated":{"line":1,"column":245}},{"source":"js/main.js","name":"ApiImagesService","original":{"line":9,"column":28},"generated":{"line":1,"column":249}},{"source":"js/main.js","original":{"line":9,"column":24},"generated":{"line":1,"column":251}},{"source":"js/main.js","original":{"line":13,"column":0},"generated":{"line":1,"column":259}},{"source":"js/main.js","name":"onImgSearch","original":{"line":13,"column":9},"generated":{"line":1,"column":268}},{"source":"js/main.js","name":"e","original":{"line":13,"column":21},"generated":{"line":1,"column":270}},{"source":"js/main.js","name":"apiImageService","original":{"line":18,"column":6},"generated":{"line":1,"column":273}},{"source":"js/main.js","name":"e","original":{"line":14,"column":2},"generated":{"line":1,"column":276}},{"source":"js/main.js","name":"preventDefault","original":{"line":14,"column":4},"generated":{"line":1,"column":278}},{"source":"js/main.js","name":"apiImageService","original":{"line":16,"column":2},"generated":{"line":1,"column":295}},{"source":"js/main.js","name":"query","original":{"line":16,"column":18},"generated":{"line":1,"column":297}},{"source":"js/main.js","name":"e","original":{"line":16,"column":26},"generated":{"line":1,"column":303}},{"source":"js/main.js","name":"currentTarget","original":{"line":16,"column":28},"generated":{"line":1,"column":305}},{"source":"js/main.js","name":"elements","original":{"line":16,"column":42},"generated":{"line":1,"column":319}},{"source":"js/main.js","name":"query","original":{"line":16,"column":51},"generated":{"line":1,"column":328}},{"source":"js/main.js","name":"value","original":{"line":16,"column":57},"generated":{"line":1,"column":334}},{"source":"js/main.js","name":"trim","original":{"line":16,"column":63},"generated":{"line":1,"column":340}},{"source":"js/main.js","original":{"line":18,"column":32},"generated":{"line":1,"column":347}},{"source":"js/main.js","name":"apiImageService","original":{"line":18,"column":6},"generated":{"line":1,"column":352}},{"source":"js/main.js","name":"query","original":{"line":18,"column":22},"generated":{"line":1,"column":354}},{"source":"js/main.js","original":{"line":19,"column":11},"generated":{"line":1,"column":360}},{"source":"js/main.js","original":{"line":19,"column":11},"generated":{"line":1,"column":367}},{"source":"js/main.js","original":{"line":19,"column":4},"generated":{"line":1,"column":369}},{"source":"js/main.js","original":{"line":19,"column":4},"generated":{"line":1,"column":371}},{"source":"js/main.js","name":"apiImageService","original":{"line":22,"column":2},"generated":{"line":1,"column":392}},{"source":"js/main.js","name":"resetPage","original":{"line":22,"column":18},"generated":{"line":1,"column":394}},{"source":"js/main.js","name":"onClearGallery","original":{"line":23,"column":2},"generated":{"line":1,"column":406}},{"source":"js/main.js","name":"onFetchImages","original":{"line":24,"column":2},"generated":{"line":1,"column":410}},{"source":"js/main.js","original":{"line":27,"column":0},"generated":{"line":1,"column":414}},{"source":"js/main.js","name":"onFetchImages","original":{"line":27,"column":9},"generated":{"line":1,"column":423}},{"source":"js/main.js","name":"apiImageService","original":{"line":28,"column":2},"generated":{"line":1,"column":427}},{"source":"js/main.js","name":"onFetchImages","original":{"line":29,"column":5},"generated":{"line":1,"column":429}},{"source":"js/main.js","name":"then","original":{"line":30,"column":5},"generated":{"line":1,"column":445}},{"source":"js/main.js","name":"images","original":{"line":30,"column":10},"generated":{"line":1,"column":450}},{"source":"js/main.js","name":"renderImages","original":{"line":30,"column":20},"generated":{"line":1,"column":453}},{"source":"js/main.js","name":"images","original":{"line":30,"column":33},"generated":{"line":1,"column":455}},{"source":"js/main.js","name":"hits","original":{"line":30,"column":40},"generated":{"line":1,"column":457}},{"source":"js/main.js","name":"catch","original":{"line":31,"column":5},"generated":{"line":1,"column":464}},{"source":"js/main.js","name":"onFetchError","original":{"line":31,"column":11},"generated":{"line":1,"column":470}},{"source":"js/main.js","original":{"line":34,"column":0},"generated":{"line":1,"column":473}},{"source":"js/main.js","name":"onFetchError","original":{"line":34,"column":9},"generated":{"line":1,"column":482}},{"source":"js/main.js","name":"error","original":{"line":34,"column":22},"generated":{"line":1,"column":484}},{"source":"js/main.js","name":"alert","original":{"line":35,"column":2},"generated":{"line":1,"column":487}},{"source":"js/main.js","name":"error","original":{"line":35,"column":8},"generated":{"line":1,"column":493}},{"source":"js/main.js","original":{"line":38,"column":0},"generated":{"line":1,"column":496}},{"source":"js/main.js","name":"renderImages","original":{"line":38,"column":9},"generated":{"line":1,"column":505}},{"source":"js/main.js","name":"images","original":{"line":38,"column":22},"generated":{"line":1,"column":507}},{"source":"js/main.js","name":"images","original":{"line":39,"column":6},"generated":{"line":1,"column":510}},{"source":"js/main.js","original":{"line":39,"column":24},"generated":{"line":1,"column":513}},{"source":"js/main.js","name":"images","original":{"line":39,"column":6},"generated":{"line":1,"column":517}},{"source":"js/main.js","name":"length","original":{"line":39,"column":13},"generated":{"line":1,"column":519}},{"source":"js/main.js","original":{"line":40,"column":11},"generated":{"line":1,"column":526}},{"source":"js/main.js","original":{"line":40,"column":11},"generated":{"line":1,"column":533}},{"source":"js/main.js","original":{"line":40,"column":4},"generated":{"line":1,"column":535}},{"source":"js/main.js","original":{"line":40,"column":4},"generated":{"line":1,"column":537}},{"source":"js/main.js","name":"galleryEL","original":{"line":43,"column":2},"generated":{"line":1,"column":561}},{"source":"js/main.js","name":"insertAdjacentHTML","original":{"line":43,"column":12},"generated":{"line":1,"column":563}},{"source":"js/main.js","original":{"line":43,"column":31},"generated":{"line":1,"column":582}},{"source":"js/main.js","original":{"line":43,"column":44},"generated":{"line":1,"column":595}},{"source":"js/main.js","name":"images","original":{"line":43,"column":59},"generated":{"line":1,"column":597}},{"source":"js/main.js","name":"images","original":{"line":43,"column":59},"generated":{"line":1,"column":599}},{"source":"js/main.js","name":"images","original":{"line":43,"column":59},"generated":{"line":1,"column":608}},{"source":"js/main.js","original":{"line":46,"column":0},"generated":{"line":1,"column":612}},{"source":"js/main.js","name":"onClearGallery","original":{"line":46,"column":9},"generated":{"line":1,"column":621}},{"source":"js/main.js","name":"galleryEL","original":{"line":47,"column":2},"generated":{"line":1,"column":625}},{"source":"js/main.js","name":"innerHTML","original":{"line":47,"column":12},"generated":{"line":1,"column":627}},{"source":"js/main.js","original":{"line":47,"column":24},"generated":{"line":1,"column":637}},{"source":"js/main.js","name":"formEL","original":{"line":11,"column":0},"generated":{"line":1,"column":640}},{"source":"js/main.js","name":"addEventListener","original":{"line":11,"column":7},"generated":{"line":1,"column":642}},{"source":"js/main.js","original":{"line":11,"column":24},"generated":{"line":1,"column":659}},{"source":"js/main.js","name":"onImgSearch","original":{"line":11,"column":34},"generated":{"line":1,"column":668}},{"source":"js/main.js","original":{"line":11,"column":47},"generated":{"line":1,"column":670}},{"source":"js/main.js","original":{"line":50,"column":0},"generated":{"line":1,"column":675}},{"source":"js/main.js","name":"scrollBtn","original":{"line":50,"column":6},"generated":{"line":1,"column":681}},{"source":"js/main.js","name":"document","original":{"line":50,"column":18},"generated":{"line":1,"column":683}},{"source":"js/main.js","name":"querySelector","original":{"line":50,"column":27},"generated":{"line":1,"column":692}},{"source":"js/main.js","original":{"line":50,"column":41},"generated":{"line":1,"column":706}},{"source":"js/main.js","name":"window","original":{"line":52,"column":0},"generated":{"line":1,"column":724}},{"source":"js/main.js","name":"addEventListener","original":{"line":52,"column":7},"generated":{"line":1,"column":731}},{"source":"js/main.js","original":{"line":52,"column":24},"generated":{"line":1,"column":748}},{"source":"js/main.js","original":{"line":52,"column":34},"generated":{"line":1,"column":757}},{"source":"js/main.js","name":"window","original":{"line":53,"column":7},"generated":{"line":1,"column":762}},{"source":"js/main.js","name":"pageYOffset","original":{"line":53,"column":14},"generated":{"line":1,"column":769}},{"source":"js/main.js","original":{"line":53,"column":28},"generated":{"line":1,"column":781}},{"source":"js/main.js","name":"scrollBtn","original":{"line":54,"column":6},"generated":{"line":1,"column":785}},{"source":"js/main.js","name":"classList","original":{"line":54,"column":16},"generated":{"line":1,"column":787}},{"source":"js/main.js","name":"add","original":{"line":54,"column":26},"generated":{"line":1,"column":797}},{"source":"js/main.js","original":{"line":54,"column":30},"generated":{"line":1,"column":801}},{"source":"js/main.js","name":"scrollBtn","original":{"line":56,"column":6},"generated":{"line":1,"column":811}},{"source":"js/main.js","name":"classList","original":{"line":56,"column":16},"generated":{"line":1,"column":813}},{"source":"js/main.js","name":"remove","original":{"line":56,"column":26},"generated":{"line":1,"column":823}},{"source":"js/main.js","original":{"line":56,"column":33},"generated":{"line":1,"column":830}},{"source":"js/main.js","name":"scrollBtn","original":{"line":60,"column":0},"generated":{"line":1,"column":842}},{"source":"js/main.js","name":"addEventListener","original":{"line":60,"column":10},"generated":{"line":1,"column":844}},{"source":"js/main.js","original":{"line":60,"column":27},"generated":{"line":1,"column":861}},{"source":"js/main.js","original":{"line":60,"column":36},"generated":{"line":1,"column":869}},{"source":"js/main.js","name":"window","original":{"line":61,"column":4},"generated":{"line":1,"column":874}},{"source":"js/main.js","name":"scrollTo","original":{"line":61,"column":11},"generated":{"line":1,"column":881}},{"source":"js/main.js","original":{"line":61,"column":20},"generated":{"line":1,"column":890}},{"source":"js/main.js","name":"top","original":{"line":62,"column":6},"generated":{"line":1,"column":891}},{"source":"js/main.js","original":{"line":62,"column":11},"generated":{"line":1,"column":895}},{"source":"js/main.js","name":"behavior","original":{"line":63,"column":6},"generated":{"line":1,"column":897}},{"source":"js/main.js","original":{"line":63,"column":16},"generated":{"line":1,"column":906}},{"source":"js/main.js","original":{"line":68,"column":0},"generated":{"line":1,"column":919}},{"source":"js/main.js","name":"onEntry","original":{"line":68,"column":6},"generated":{"line":1,"column":925}},{"source":"js/main.js","name":"entries","original":{"line":68,"column":16},"generated":{"line":1,"column":927}},{"source":"js/main.js","name":"entries","original":{"line":69,"column":2},"generated":{"line":1,"column":931}},{"source":"js/main.js","name":"forEach","original":{"line":69,"column":10},"generated":{"line":1,"column":933}},{"source":"js/main.js","name":"entry","original":{"line":69,"column":18},"generated":{"line":1,"column":941}},{"source":"js/main.js","name":"entry","original":{"line":70,"column":8},"generated":{"line":1,"column":945}},{"source":"js/main.js","name":"isIntersecting","original":{"line":70,"column":14},"generated":{"line":1,"column":947}},{"source":"js/main.js","original":{"line":70,"column":58},"generated":{"line":1,"column":963}},{"source":"js/main.js","name":"apiImageService","original":{"line":70,"column":32},"generated":{"line":1,"column":968}},{"source":"js/main.js","name":"query","original":{"line":70,"column":48},"generated":{"line":1,"column":970}},{"source":"js/main.js","name":"apiImageService","original":{"line":71,"column":6},"generated":{"line":1,"column":977}},{"source":"js/main.js","name":"onFetchImages","original":{"line":71,"column":22},"generated":{"line":1,"column":979}},{"source":"js/main.js","name":"then","original":{"line":71,"column":38},"generated":{"line":1,"column":995}},{"source":"js/main.js","name":"images","original":{"line":71,"column":43},"generated":{"line":1,"column":1000}},{"source":"js/main.js","name":"renderImages","original":{"line":72,"column":8},"generated":{"line":1,"column":1004}},{"source":"js/main.js","name":"images","original":{"line":72,"column":21},"generated":{"line":1,"column":1006}},{"source":"js/main.js","name":"hits","original":{"line":72,"column":28},"generated":{"line":1,"column":1008}},{"source":"js/main.js","name":"apiImageService","original":{"line":73,"column":8},"generated":{"line":1,"column":1014}},{"source":"js/main.js","name":"incrementPage","original":{"line":73,"column":24},"generated":{"line":1,"column":1016}},{"source":"js/main.js","name":"observer","original":{"line":79,"column":6},"generated":{"line":1,"column":1037}},{"source":"js/main.js","original":{"line":79,"column":17},"generated":{"line":1,"column":1039}},{"source":"js/main.js","name":"IntersectionObserver","original":{"line":79,"column":21},"generated":{"line":1,"column":1043}},{"source":"js/main.js","name":"onEntry","original":{"line":79,"column":42},"generated":{"line":1,"column":1064}},{"source":"js/main.js","original":{"line":79,"column":51},"generated":{"line":1,"column":1066}},{"source":"js/main.js","name":"rootMargin","original":{"line":80,"column":2},"generated":{"line":1,"column":1067}},{"source":"js/main.js","original":{"line":80,"column":14},"generated":{"line":1,"column":1078}},{"source":"js/main.js","name":"observer","original":{"line":83,"column":0},"generated":{"line":1,"column":1088}},{"source":"js/main.js","name":"observe","original":{"line":83,"column":9},"generated":{"line":1,"column":1090}},{"source":"js/main.js","name":"sentinelEL","original":{"line":83,"column":17},"generated":{"line":1,"column":1098}}],"sources":{"js/main.js":"\r\nimport imagesTemplate from '../template/gallery.hbs';\r\nimport ApiImagesService from './apiService.js';\r\nimport refs from './refs.js';\r\nimport { onErrorEmptyInput, onErrorNoSuchMatches } from './pnotify.js';\r\n\r\nconst { galleryEL, formEL, sentinelEL } = refs;\r\n\r\nconst apiImageService = new ApiImagesService();\r\n\r\nformEL.addEventListener('submit', onImgSearch, 500);\r\n\r\nfunction onImgSearch(e) {\r\n  e.preventDefault();\r\n\r\n  apiImageService.query = e.currentTarget.elements.query.value.trim();\r\n\r\n  if (apiImageService.query === '') {\r\n    return onErrorEmptyInput();\r\n  }\r\n\r\n  apiImageService.resetPage();\r\n  onClearGallery();\r\n  onFetchImages();\r\n}\r\n\r\nfunction onFetchImages() {\r\n  apiImageService\r\n    .onFetchImages()\r\n    .then(images => renderImages(images.hits))\r\n    .catch(onFetchError);\r\n}\r\n\r\nfunction onFetchError(error) {\r\n  alert(error);\r\n}\r\n\r\nfunction renderImages(images) {\r\n  if (images.length === 0) {\r\n    return onErrorNoSuchMatches();\r\n  }\r\n\r\n  galleryEL.insertAdjacentHTML('beforeend', imagesTemplate(images));\r\n}\r\n\r\nfunction onClearGallery() {\r\n  galleryEL.innerHTML = '';\r\n}\r\n\r\nconst scrollBtn = document.querySelector('.scroll-to-top')\r\n\r\nwindow.addEventListener('scroll', ()=> {\r\n   if (window.pageYOffset > 500) {\r\n      scrollBtn.classList.add('active')\r\n    } else {\r\n      scrollBtn.classList.remove('active')\r\n  }\r\n})\r\n\r\nscrollBtn.addEventListener('click', () => {\r\n    window.scrollTo({\r\n      top: 0,\r\n      behavior: 'smooth',\r\n  })\r\n})\r\n\r\n\r\nconst onEntry = entries => {\r\n  entries.forEach(entry => {\r\n    if (entry.isIntersecting && apiImageService.query !== '') {\r\n      apiImageService.onFetchImages().then(images => {\r\n        renderImages(images.hits);\r\n        apiImageService.incrementPage();\r\n      });\r\n    }\r\n  });\r\n};\r\n\r\nconst observer = new IntersectionObserver(onEntry, {\r\n  rootMargin: '150px',\r\n});\r\n\r\nobserver.observe(sentinelEL);"},"lineCount":null}},"error":null,"hash":"00aac779fb645ac416c46eba26a04d94","cacheData":{"env":{}}}